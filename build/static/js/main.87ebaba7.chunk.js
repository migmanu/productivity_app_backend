(this.webpackJsonpproductivity_app=this.webpackJsonpproductivity_app||[]).push([[0],{12:function(e,t,n){},3:function(e,t,n){e.exports={pomodoroContainer:"timer_styles_pomodoroContainer__1yN4q",upperBar:"timer_styles_upperBar__3W-ef",timerContainer:"timer_styles_timerContainer__2unnG",time:"timer_styles_time__3mBTD",buttons:"timer_styles_buttons__XTNvA",pomodoros:"timer_styles_pomodoros__3NCkS",start:"timer_styles_start__2nmjw",pause:"timer_styles_pause__29myj",reset:"timer_styles_reset__2zr-f"}},53:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var o=n(0),c=n.n(o),s=n(6),r=n.n(s),a=n(2),i=n(3),l=n.n(i),d=n(1),u=function(e){var t=e.setIsActive,n=e.isActive;return!0===n?Object(d.jsx)("button",{onClick:function(){return t(!1)},className:l.a.pause,children:"Pause"}):!1===n?Object(d.jsx)("button",{onClick:function(){return t(!0)},className:l.a.start,children:"Start"}):void 0},j=function(e){var t=e.minutes,n=e.setMinutes,c=e.seconds,s=e.setSeconds,r=e.isActive,a=e.setIsActive,i=e.counter,u=e.setCounter;return Object(o.useEffect)((function(){var e;return!0===r&&i>0?e=setInterval((function(){var e=i%60-1,t=Math.floor(i/60);console.log("secondCounter is: ",e),console.log("counter is: ",i);var o=0;1===String(e).length?o="0".concat(e):-1===e?(o=59,t=Math.floor((i-1)/60)):o=e;var c=1===String(t).length?"0".concat(t):t;s(o),n(c),u(i-1)}),1e3):0===i&&(console.log("counter is zero, isActive set to false"),a(!1)),function(){return clearInterval(e)}}),[r,i]),Object(d.jsxs)("div",{className:l.a.time,children:[Object(d.jsx)("span",{className:l.a.minute,children:t}),Object(d.jsx)("span",{children:":"}),Object(d.jsx)("span",{className:l.a.second,children:c})]})},p=function(e){var t=Object(o.useState)("25"),n=Object(a.a)(t,2),c=n[0],s=n[1],r=Object(o.useState)("00"),i=Object(a.a)(r,2),p=i[0],b=i[1],f=Object(o.useState)(!1),m=Object(a.a)(f,2),O=m[0],v=m[1],h=Object(o.useState)(1500),g=Object(a.a)(h,2),x=g[0],_=g[1],k=Object(o.useState)(0),C=Object(a.a)(k,2),y=C[0],N=C[1],I=Object(o.useState)(!0),w=Object(a.a)(I,2),A=w[0],S=w[1];Object(o.useEffect)((function(){console.log("Pomodoro component useEffect init"),console.log("pomodoros is: ".concat(y,", corte is ").concat(A)),0===x&&!1===A&&y<4&&(console.log("corte is false. Pomodoro started"),s("25"),b("00"),_(1500),S(!0),console.log("pomodoros now is: ",y)),0===x&&!0===A&&y<3&&(console.log("corte is true. Break started"),N(y+1),s("05"),b("00"),_(300),S(!1)),0===x&&!0===A&&3===y&&(console.log("4 pomodoros"),N(y+1),s("15"),b("00"),_(900),S(!1),console.log("long break started")),0===x&&4===y&&(console.log("pomodoro cycle completed"),N(0),s("25"),b("00"),_(1500),S(!0))}),[O]);return Object(d.jsx)("div",{className:l.a.pomodoroContainer,children:Object(d.jsxs)("div",{className:l.a.upperBar,children:[Object(d.jsx)("div",{className:l.a.timerContainer,children:Object(d.jsx)(j,{minutes:c,setMinutes:s,seconds:p,setSeconds:b,isActive:O,setIsActive:v,counter:x,setCounter:_})}),Object(d.jsxs)("div",{className:l.a.buttons,children:[Object(d.jsx)(u,{setIsActive:v,isActive:O}),Object(d.jsx)("button",{onClick:function(){v(!1),_(1500),s("25"),b("00")},className:l.a.reset,children:"Restart"})]}),Object(d.jsxs)("span",{className:l.a.pomodoros,children:["Pomodoros ",y]})]})})},b=n(14),f=n(7),m=n(5),O=function(e,t,n){return Object(m.a)({userSelect:"none",padding:16,margin:"0 0 ".concat(8,"px 0"),borderLeft:n,borderRadius:5,maxWidth:300,background:e?"lightgray":"white"},t)},v=function(e){var t=e.index,n=e.id,o=e.content,c=e.column,s="5px solid black";return 0===c&&(s="5px solid pink"),1===c&&(s="5px solid blue"),3===c&&(s="5px solid green"),Object(d.jsx)(f.b,{draggableId:n,index:t,children:function(e,t){return Object(d.jsx)("li",Object(m.a)(Object(m.a)(Object(m.a)({ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{style:O(t.isDragging,e.draggableProps.style,s),children:Object(d.jsx)("p",{children:o})}),n)}},n)},h=n(10),g=n.n(h),x="/api/tasks",_={getAll:function(){return g.a.get(x)},create:function(e){return g.a.post(x,e).then((function(e){return e.data}))},update:function(e){return g.a.put("".concat(x,"/").concat(e.id),e).then((function(e){return e.data}))}},k=(n(12),function(e){var t=e.droppableId,n=Object(o.useContext)(I),c=n.tasks,s=n.setTasks;console.log("new card component init");var r=Object(o.useState)(!1),i=Object(a.a)(r,2),l=i[0],u=i[1],j=Object(o.useState)(""),p=Object(a.a)(j,2),b=p[0],f=p[1];console.log("addCard is:",l);var m=function(e){e.preventDefault(),console.log("handleClick function init, addCard is: ",l),u(!l)};return!1===l?Object(d.jsx)("div",{children:Object(d.jsx)("button",{onClick:m,className:"addCardButton",children:"+"})}):!0===l?(console.log("newTask.length is: ",b.length,"operand: ",Math.ceil(b.length/33)),Object(d.jsxs)("div",{className:"newCardWrapper",children:[Object(d.jsx)("textarea",{type:"textarea",rows:0===b.length?1:Math.ceil(b.length/33),placeholder:"New task...",onChange:function(e){f(e.target.value)}}),Object(d.jsx)("button",{onClick:function(e){console.log("submitNewCard form init"),e.preventDefault();var n,o={content:b,date:new Date,column:t,position:0},r=c;console.log("newTasksArray is ".concat(r)),_.create(o).then((function(e){console.log("task saved to local server"),u(!1),n=e.id})),_.getAll().then((function(e){console.log("newCardID accesible in get: ".concat(n)),console.log(e);var t=e.data.filter((function(e){return 0===e.column}));!function(e,t){var n=1;e.forEach((function(e){if(e.id!==t){var o={id:e.id,content:e.content,date:e.date,column:e.column,position:n};_.update(o).then(console.log("task ".concat(o.content," updated with position ").concat(o.position," "))),n+=1}}))}(t,n),t.sort((function(e,t){return e.position-t.position}));var o=e.data.filter((function(e){return 1===e.column}));o.sort((function(e,t){return e.position-t.position}));var c=e.data.filter((function(e){return 2===e.column}));c.sort((function(e,t){return e.position-t.position})),s([t,o,c])}))},className:"submitCardButton",children:"Add"})," ",Object(d.jsx)("button",{onClick:m,children:"Cancel"})]})):void 0}),C=function(e){var t=e.droppableId,n=Object(o.useContext)(I),c=n.tasks,s=(n.setTasks,c[t]),r="";return"0"===t&&(r="To-do"),"1"===t&&(r="Doing"),"2"===t&&(r="Done"),Object(d.jsxs)("div",{className:"kanbanColumn",children:[Object(d.jsxs)("p",{className:"columnTitle",children:[" ",r]}),Object(d.jsx)("div",{children:Object(d.jsx)(k,{droppableId:t})}),Object(d.jsx)(f.c,{droppableId:t,children:function(e,t){return Object(d.jsxs)("div",Object(m.a)(Object(m.a)({className:"listWrapper",ref:e.innerRef},e.droppableProps),{},{children:[Object(d.jsx)("ul",{className:"id",style:(n=t.isDraggingOver,{background:n?"lightblue":"none",padding:5,listStyle:"none",maxHeight:"95%",overflowY:"auto",overflowX:"hidden"}),children:s.map((function(e,t){var n=e.id,o=e.content,c=e.column;return Object(d.jsx)(v,{index:t,id:n,content:o,column:c},n)}))}),e.placeholder]}));var n}})]})},y=function(e,t){var n=0;e[t].forEach((function(o){if(n<e[t].length){var c={id:o.id,content:o.content,date:o.date,column:t,position:n};_.update(c).then(console.log("task ".concat(c.content," updated with position ").concat(c.position," "))),n+=1}}))},N=function(){var e=Object(o.useContext)(I),t=e.tasks,n=e.setTasks;return Object(d.jsx)("div",{className:"container",children:Object(d.jsxs)(f.a,{onDragEnd:function(e){var o=e.source,c=e.destination;if(c){var s=+o.droppableId,r=+c.droppableId;if(s===r){var i=function(e,t,n){var o=Array.from(e),c=o.splice(t,1),s=Object(a.a)(c,1)[0];return o.splice(n,0,s),o}(t[s],o.index,c.index),l=Object(b.a)(t);l[s]=i,y(l,s),n(l)}else{var d=function(e,t,n,o){var c=Array.from(e),s=Array.from(t),r=c.splice(n.index,1),i=Object(a.a)(r,1)[0];i.column=parseInt(o.droppableId),s.splice(o.index,0,i);var l={};return l[n.droppableId]=c,l[o.droppableId]=s,_.update(i).then(console.log("edit called")),l}(t[s],t[r],o,c),u=Object(b.a)(t);u[s]=d[s],u[r]=d[r],y(u,s),y(u,r),n(u)}}},children:[Object(d.jsx)(C,{droppableId:"0"}),Object(d.jsx)(C,{droppableId:"1"}),Object(d.jsx)(C,{droppableId:"2"})]})})},I=(n(53),Object(o.createContext)()),w=function(){var e=Object(o.useState)([[],[],[]]),t=Object(a.a)(e,2),n=t[0],c=t[1];return Object(o.useEffect)((function(){_.getAll().then((function(e){console.log(e);var t=e.data.filter((function(e){return 0===e.column}));t.sort((function(e,t){return e.position-t.position}));var n=e.data.filter((function(e){return 1===e.column}));n.sort((function(e,t){return e.position-t.position}));var o=e.data.filter((function(e){return 2===e.column}));o.sort((function(e,t){return e.position-t.position})),c([t,n,o])}))}),[]),Object(d.jsxs)("div",{className:"body",children:[Object(d.jsx)("div",{children:Object(d.jsx)(p,{})}),Object(d.jsx)(I.Provider,{value:{tasks:n,setTasks:c},children:Object(d.jsx)(N,{})})]})};r.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(w,{})}),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.87ebaba7.chunk.js.map
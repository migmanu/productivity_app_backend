(this.webpackJsonpproductivity_app=this.webpackJsonpproductivity_app||[]).push([[0],{10:function(t,e,n){},3:function(t,e,n){t.exports={pomodoroContainer:"timer_styles_pomodoroContainer__1yN4q",upperBar:"timer_styles_upperBar__3W-ef",timerContainer:"timer_styles_timerContainer__2unnG",time:"timer_styles_time__3mBTD",buttons:"timer_styles_buttons__XTNvA",pomodoros:"timer_styles_pomodoros__3NCkS",buttonsContainer:"timer_styles_buttonsContainer__3TlIg",icon:"timer_styles_icon__1VCfw",start:"timer_styles_start__2nmjw",pause:"timer_styles_pause__29myj",reset:"timer_styles_reset__2zr-f"}},53:function(t,e,n){},54:function(t,e,n){"use strict";n.r(e);var o=n(0),c=n.n(o),s=n(6),r=n.n(s),i=n(2),a=n(3),l=n.n(a),d=n.p+"static/media/play.d9976373.svg",u=n.p+"static/media/pause.3ff0d39d.svg",p=n(1),j=function(t){var e=t.setIsActive,n=t.isActive;return!0===n?Object(p.jsx)("input",{type:"image",src:u,onClick:function(){return e(!1)},className:l.a.icon}):!1===n?Object(p.jsx)("input",{type:"image",src:d,onClick:function(){return e(!0)},className:l.a.icon}):void 0},b=function(t){var e=t.minutes,n=t.setMinutes,c=t.seconds,s=t.setSeconds,r=t.isActive,i=t.setIsActive,a=t.counter,d=t.setCounter;return Object(o.useEffect)((function(){var t;return!0===r&&a>0?t=setInterval((function(){var t=a%60-1,e=Math.floor(a/60);console.log("secondCounter is: ",t),console.log("counter is: ",a);var o=0;1===String(t).length?o="0".concat(t):-1===t?(o=59,e=Math.floor((a-1)/60)):o=t;var c=1===String(e).length?"0".concat(e):e;s(o),n(c),d(a-1)}),1e3):0===a&&(console.log("counter is zero, isActive set to false"),i(!1)),function(){return clearInterval(t)}}),[r,a]),Object(p.jsxs)("div",{className:l.a.time,children:[Object(p.jsx)("span",{className:l.a.minute,children:e}),Object(p.jsx)("span",{children:":"}),Object(p.jsx)("span",{className:l.a.second,children:c})]})},f=n.p+"static/media/restart.d69b8396.svg",m=function(t){var e=Object(o.useState)("25"),n=Object(i.a)(e,2),c=n[0],s=n[1],r=Object(o.useState)("00"),a=Object(i.a)(r,2),d=a[0],u=a[1],m=Object(o.useState)(!1),O=Object(i.a)(m,2),g=O[0],v=O[1],h=Object(o.useState)(1500),x=Object(i.a)(h,2),_=x[0],y=x[1],k=Object(o.useState)(0),C=Object(i.a)(k,2),N=C[0],S=C[1],I=Object(o.useState)(!0),A=Object(i.a)(I,2),w=A[0],B=A[1];Object(o.useEffect)((function(){console.log("Pomodoro component useEffect init"),console.log("pomodoros is: ".concat(N,", corte is ").concat(w)),0===_&&!1===w&&N<4&&(console.log("corte is false. Pomodoro started"),s("25"),u("00"),y(1500),B(!0),console.log("pomodoros now is: ",N)),0===_&&!0===w&&N<3&&(console.log("corte is true. Break started"),S(N+1),s("05"),u("00"),y(300),B(!1)),0===_&&!0===w&&3===N&&(console.log("4 pomodoros"),S(N+1),s("15"),u("00"),y(900),B(!1),console.log("long break started")),0===_&&4===N&&(console.log("pomodoro cycle completed"),S(0),s("25"),u("00"),y(1500),B(!0))}),[g]);return Object(p.jsx)("div",{className:l.a.pomodoroContainer,children:Object(p.jsxs)("div",{className:l.a.upperBar,children:[Object(p.jsx)("div",{className:l.a.timerContainer,children:Object(p.jsx)(b,{minutes:c,setMinutes:s,seconds:d,setSeconds:u,isActive:g,setIsActive:v,counter:_,setCounter:y})}),Object(p.jsxs)("div",{className:l.a.buttonsContainer,children:[Object(p.jsx)(j,{setIsActive:v,isActive:g}),Object(p.jsx)("input",{type:"image",src:f,onClick:function(){v(!1),y(1500),s("25"),u("00")},className:l.a.reset})]}),Object(p.jsxs)("span",{className:l.a.pomodoros,children:["# ",N]})]})})},O=n(14),g=n(7),v=n(5),h=(n(10),function(t,e,n){return Object(v.a)({userSelect:"none",padding:16,margin:"0 0 ".concat(8,"px 0"),borderLeft:n,borderRadius:5,background:t?"lightgray":"white"},e)}),x=function(t){var e=t.index,n=t.id,o=t.content,c=t.column,s="5px solid black";0===c&&(s="5px solid blue"),1===c&&(s="5px solid green"),2===c&&(s="5px solid red");return Object(p.jsx)(g.b,{draggableId:n,index:e,children:function(t,e){return Object(p.jsxs)("li",Object(v.a)(Object(v.a)(Object(v.a)({ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{style:h(e.isDragging,t.draggableProps.style,s),children:[Object(p.jsx)("button",{className:"deleteCardButton"}),Object(p.jsx)("p",{children:o})]}),n)}},n)},_=n(9),y=n.n(_),k="/api/tasks",C={getAll:function(){return y.a.get(k)},create:function(t){return y.a.post(k,t).then((function(t){return t.data}))},update:function(t){return y.a.put("".concat(k,"/").concat(t.id),t).then((function(t){return t.data}))},deleteCard:function(t){return y.a.delete(k,t).then((function(t){return t.data}))}},N=function(t){var e=t.droppableId,n=Object(o.useContext)(w),c=n.tasks,s=n.setTasks,r=Object(o.useState)(!1),a=Object(i.a)(r,2),l=a[0],d=a[1],u=Object(o.useState)(""),j=Object(i.a)(u,2),b=j[0],f=j[1],m=function(t){t.preventDefault(),d(!l)};return!1===l?Object(p.jsx)("div",{children:Object(p.jsx)("button",{onClick:m,className:"addCardButton",children:"+"})}):!0===l?Object(p.jsxs)("div",{className:"newCardWrapper",children:[Object(p.jsx)("textarea",{type:"textarea",rows:0===b.length?1:Math.ceil(b.length/33),placeholder:"New task...",onChange:function(t){f(t.target.value)}}),Object(p.jsx)("button",{onClick:function(t){if(0===b.length)return console.log("submitted new card with no content"),void alert("No content submitted to new card");t.preventDefault();var n,o={content:b,date:new Date,column:e,position:0};C.create(o).then((function(t){console.log("task saved to local server"),d(!1),n=t.id;var r=c;r[e].unshift(o),console.log("taskcopy: ".concat(JSON.stringify(r[e]))),C.getAll().then((function(t){console.log("droppableId: ".concat(e));var o=t.data;console.log("tasksFetched before filter: ".concat(JSON.stringify(o))),o.filter((function(t){return t.column===e})),o.sort((function(t,e){return t.position-e.position})),console.log("tasksFetched: ".concat(JSON.stringify(o))),function(t,e){console.log("taskList to update is: ".concat(JSON.stringify(t)));var n=1;t.forEach((function(t){if(t.id!==e){var o={id:t.id,content:t.content,date:t.date,column:t.column,position:n};C.update(o).then(console.log("task ".concat(o.content," updated with position ").concat(o.position," "))),n+=1}})),console.log("updates taskList: ".concat(JSON.stringify(t)))}(o,n),C.getAll().then((function(t){console.log("newCard getAll init");var e=t.data.filter((function(t){return 0===t.column}));e.sort((function(t,e){return t.position-e.position}));var n=t.data.filter((function(t){return 1===t.column}));n.sort((function(t,e){return t.position-e.position}));var o=t.data.filter((function(t){return 2===t.column}));o.sort((function(t,e){return t.position-e.position})),s([e,n,o])}))}))}))},className:"submitCardButton",children:"Add"})," ",Object(p.jsx)("button",{onClick:m,children:"Cancel"})]}):void 0},S=function(t){var e=t.droppableId,n=Object(o.useContext)(w),c=n.tasks,s=(n.setTasks,c[e]),r="";return"0"===e&&(r="To-do"),"1"===e&&(r="Doing"),"2"===e&&(r="Done"),Object(p.jsxs)("div",{className:"kanbanColumn",children:[Object(p.jsxs)("p",{className:"columnTitle",children:[" ",r]}),Object(p.jsx)("div",{children:Object(p.jsx)(N,{droppableId:e})}),Object(p.jsx)(g.c,{droppableId:e,children:function(t,e){return Object(p.jsxs)("div",Object(v.a)(Object(v.a)({className:"listWrapper",ref:t.innerRef},t.droppableProps),{},{children:[Object(p.jsx)("ul",{className:"id",style:(n=e.isDraggingOver,{background:n?"lightblue":"none",padding:5,listStyle:"none",maxHeight:"93%",overflowY:"auto",overflowX:"hidden"}),children:s.map((function(t,e){var n=t.id,o=t.content,c=t.column;return Object(p.jsx)(x,{index:e,id:n,content:o,column:c},n)}))}),t.placeholder]}));var n}})]})},I=function(t,e){var n=1;t[e].forEach((function(o){if(n<t[e].length){var c={id:o.id,content:o.content,date:o.date,column:e,position:n};C.update(c).then(console.log("task ".concat(c.content," updated with position ").concat(c.position," "))),n+=1}}))},A=function(){var t=Object(o.useContext)(w),e=t.tasks,n=t.setTasks;return Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)(g.a,{onDragEnd:function(t){var o=t.source,c=t.destination;if(c){var s=+o.droppableId,r=+c.droppableId;if(s===r){var a=function(t,e,n){var o=Array.from(t),c=o.splice(e,1),s=Object(i.a)(c,1)[0];return o.splice(n,0,s),o}(e[s],o.index,c.index),l=Object(O.a)(e);l[s]=a,I(l,s),n(l)}else{var d=function(t,e,n,o){var c=Array.from(t),s=Array.from(e),r=c.splice(n.index,1),a=Object(i.a)(r,1)[0];a.column=parseInt(o.droppableId),s.splice(o.index,0,a);var l={};return l[n.droppableId]=c,l[o.droppableId]=s,C.update(a).then(console.log("edit called")),l}(e[s],e[r],o,c),u=Object(O.a)(e);u[s]=d[s],u[r]=d[r],I(u,s),I(u,r),n(u)}}},children:[Object(p.jsx)(S,{droppableId:"0"}),Object(p.jsx)(S,{droppableId:"1"}),Object(p.jsx)(S,{droppableId:"2"})]})})},w=(n(53),Object(o.createContext)()),B=function(){var t=Object(o.useState)([[],[],[]]),e=Object(i.a)(t,2),n=e[0],c=e[1];return Object(o.useEffect)((function(){C.getAll().then((function(t){console.log("response is ".concat(JSON.stringify(t.data)));var e=t.data.filter((function(t){return 0===t.column}));e.sort((function(t,e){return t.position-e.position}));var n=t.data.filter((function(t){return 1===t.column}));n.sort((function(t,e){return t.position-e.position}));var o=t.data.filter((function(t){return 2===t.column}));o.sort((function(t,e){return t.position-e.position})),c([e,n,o])}))}),[]),console.log("app.js tasks set to: ".concat(JSON.stringify(n))),Object(p.jsxs)("div",{className:"body",children:[Object(p.jsx)("div",{children:Object(p.jsx)(m,{})}),Object(p.jsx)(w.Provider,{value:{tasks:n,setTasks:c},children:Object(p.jsx)(A,{})})]})};r.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(B,{})}),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.8127b223.chunk.js.map